{"version":3,"sources":["icons/noimage.png","icons/loading.gif","utils/BooksAPI.js","components/BookComponent/BookCard.js","components/LoadingComponent/Loading.js","components/MainPage/BookShelf.js","components/ErrorMessage/ErrorBoundary.js","components/MainPage/BookList.js","components/SearchPage/Search.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","getAll","fetch","concat","then","res","json","data","books","catch","error","update","book","shelf","id","method","Object","objectSpread","Content-Type","body","JSON","stringify","search","query","BookCard","state","loading","requestBookUpdate","givenBook","_this","setState","BooksAPI","result","copiedObj","assign","props","onUpdate","alert","cutStringByCapital","string","test","replace","upp","i","st","toUpperCase","_this2","this","react_default","a","createElement","className","imageLinks","style","backgroundImage","smallThumbnail","background","noImage","window","location","pathname","value","onChange","event","target","disabled","title","authors","map","author","idx","key","React","Component","Loading","_ref","src","LoadingImg","alt","width","BookShelf","category","booksPerCategory","length","filter","toLowerCase","BookComponent_BookCard","ErrorBoundary","info","textAlign","marginTop","children","categories","BookList","fetchBooks","onAddBooks","setItem","ErrorBoundary_ErrorBoundary","index","MainPage_BookShelf","react_router_dom","to","Search","handleChange","handleSubmit","trim","isValidate","searchBooks","handleFormReset","onReset","sortBooks","booksOnShelves","parse","getItem","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","bookOnShelf","err","return","_this$props","onClick","type","placeholder","onKeyDown","e","BookApp","handleResetBooks","addBooks","array","updateBook","prevState","react_router","exact","path","render","MainPage_BookList","SearchPage_Search","ReactDOM","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.e6eaade2.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/loading.4cbcfda3.gif\";","\nconst api = \"https://reactnd-books-api.udacity.com\"\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet token = localStorage.token\nif (!token)\n  token = localStorage.token = Math.random().toString(36).substr(-8)\n\nconst headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n}\n\nconst handleError = (error) => {\n  // alert(error)\n}\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then(res => res.json())\n    .then(data => data.book)\n    .catch(error=> handleError(error))\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then(res => res.json())\n    .then(data => data.books)\n    .catch(error=> handleError(error))\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: 'PUT',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ shelf })\n  }).then(res => res.json())\n    .catch(error=> handleError(error))\n\nexport const search = (query) =>\n  fetch(`${api}/search`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ query })\n  }).then(res => res.json())\n    .then(data => data.books)\n    .catch(error => handleError(error))\n\n    ","import React from 'react'\nimport PropTypes from 'prop-types'\nimport noImage from '../../icons/noimage.png'\nimport * as BooksAPI from '../../utils/BooksAPI'\n\nclass BookCard extends React.Component {\n  static propTypes = {\n    book: PropTypes.object,\n    onUpdate: PropTypes.func\n  }\n\n  state = {\n    loading: false\n  }\n\n  requestBookUpdate = (givenBook, shelf) => {\n    this.setState({ loading: true })\n\n    BooksAPI.update(givenBook, shelf).then(result => {\n      if(result && !result.error) {\n        const copiedObj = Object.assign({}, givenBook)\n        copiedObj.shelf = shelf\n\n        this.setState({ loading: false }) \n        this.props.onUpdate(copiedObj)\n        \n      } else {\n        this.setState({ loading: false }) \n        alert('An error occured. Please try it again.')\n      }\n    })\n  }\n\n  cutStringByCapital = string => {\n    let regExp = /[A-Z]/\n    let result;\n    if(regExp.test(string)) {\n      string.replace(/[A-Z]/, function(upp, i, st) {\n        result = st.substr(0, i).toUpperCase()\n      })\n    } else{\n      result = string.toUpperCase()\n    }\n    \n    return result\n  }\n\n  render() {\n    const { book } = this.props;\n    \n    return (\n        <li>\n          <div className=\"book\">\n              <div className=\"book-top\">   \n                <div className=\"book-cover-wrapper\">\n                  { book.imageLinks \n                    ? <div className=\"book-cover\" style={{ backgroundImage: `url(\"${book.imageLinks.smallThumbnail}\")` }}></div>\n                    : <div className=\"book-cover\" style={{ background: `url(${noImage}) center/100px no-repeat`}}></div>\n                  }\n                  { this.state.loading &&\n                    <div className=\"book-cover-loading\"></div>\n                  }\n                  { window.location.pathname === '/search' && book.shelf && book.shelf !== \"none\" &&\n                    <div className=\"book-cover-mark\">{this.cutStringByCapital(book.shelf)}</div>\n                  }\n                </div>\n             \n                <div className=\"book-shelf-changer\">\n                    <form>\n                      <select value={book.shelf ? book.shelf : 'none'} onChange={ event => this.requestBookUpdate(book, event.target.value, )}>\n                        <option value=\"move\" disabled>Move to...</option>\n                        <option value=\"currentlyReading\">Currently Reading</option>\n                        <option value=\"wantToRead\">Want to Read</option>\n                        <option value=\"read\">Read</option>\n                        <option value=\"none\">None</option>\n                      </select>\n                    </form>\n                </div>\n              </div>\n              <div className=\"book-title\">{book.title}</div>\n\n              {book.authors && book.authors.map((author, idx) => (\n                <div className=\"book-authors\" key={idx}>{author}</div>\n              ))}\n\n          </div>\n        </li>\n    )\n  }\n}\n\nexport default BookCard\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport LoadingImg from '../../icons/loading.gif'\n\nexport default function Loading ({loading}) {\n    return (\n        <div>\n            { loading\n                ? <img src={LoadingImg} alt=\"loading\" width=\"150px\"/>\n                : <p>No books available</p> \n            }\n        </div>\n    )\n}\n\nLoading.propTypes = {\n    loading: PropTypes.bool\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport BookCard from '../BookComponent/BookCard'\nimport Loading from '../LoadingComponent/Loading'\n\nconst BookShelf = props => {\n  const { books, category, onUpdate, loading } = props;\n  const booksPerCategory = books.length > 0 && books.filter(book => \n    book.shelf.toLowerCase() === category.toLowerCase().replace(/ /g, \"\")\n  )\n\n  return (\n    <div className=\"bookshelf\">\n      <h2 className=\"bookshelf-title\">\n        {`${category} (${booksPerCategory && booksPerCategory.length > 0 ? booksPerCategory.length : 0})`}\n      </h2>\n      <div className=\"bookshelf-books\">\n        <ol className=\"books-grid\">\n          { booksPerCategory && booksPerCategory.length > 0 \n            ? booksPerCategory\n              .map(book => (\n                <BookCard \n                  key= {book.id}\n                  book= {book}\n                  onUpdate= {onUpdate}\n                />\n              ))\n            : <Loading \n                loading= {loading} \n              />\n          }\n        </ol>\n      </div>\n    </div>\n  )\n}\n\nBookShelf.propTypes = {\n  books: PropTypes.array,\n  loading: PropTypes.bool,\n  onUpdate: PropTypes.func,\n  category: PropTypes.string\n}\n\n\nexport default BookShelf\n","import React, {Component} from 'react'\n\nexport default class ErrorBoundary extends Component {\n    state = {\n      error: null\n    }\n  \n    static getDerivedStateFromError(error) {\n        return { error };\n    }\n  \n    componentDidCatch(error, info) {\n        // console.log(error.toString(), info.componentStack)\n    }\n\n    render() {\n        if (this.state.error) {\n            return <p style={{textAlign: 'center', marginTop: '50px'}}>An error occured. Please try it again.</p>;\n        }\n        return this.props.children;\n    }\n};","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport BookShelf from './BookShelf'\nimport * as BooksAPI from '../../utils/BooksAPI'\nimport ErrorBoundary from '../ErrorMessage/ErrorBoundary'\n\nconst categories = ['Currently Reading', 'Want to Read', 'Read']\n\nclass BookList extends React.Component {\n  static propTypes = {\n    books: PropTypes.array,\n    onAddBooks: PropTypes.func,\n    onUpdate: PropTypes.func\n  }\n\n  state = {\n    loading: false\n  }\n\n  componentDidMount() {\n    this.fetchBooks()\n  }\n\n  fetchBooks = () => {\n    this.setState({loading: true})\n\n    BooksAPI.getAll().then(result => {\n      this.props.onAddBooks(result)\n      this.setState({loading: false})\n\n      localStorage.setItem('books', JSON.stringify(result))\n    })\n  }\n\n  render() {\n    return (\n          <div className=\"list-books\">\n            <div className=\"list-books-title\">\n                <h1>MyReads</h1>\n            </div>\n            <div className=\"list-books-content\">\n              <ErrorBoundary>\n                {categories.map((category, index) => {\n                    return <BookShelf \n                              books= {this.props.books}\n                              loading= {this.state.loading}\n                              onUpdate= {this.props.onUpdate}\n                              category= {category} \n                              key= {index}\n                            />\n                  }) \n                }\n              </ErrorBoundary>\n              <div className=\"open-search\">\n                  <Link to='/search'>\n                    <button>Add a book</button>\n                  </Link> \n              </div>\n            </div>\n          </div>\n    )\n  }\n}\n\nexport default BookList\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport BookCard from '../BookComponent/BookCard'\nimport Loading from '../LoadingComponent/Loading'\nimport * as BooksAPI from '../../utils/BooksAPI'\n\nclass Search extends React.Component {\n  static propTypes = {\n    book: PropTypes.object,\n    onReset: PropTypes.func, \n    onAddBooks: PropTypes.func,\n    onUpdate: PropTypes.func\n  }\n\n  state = {\n    query : '',\n    loading: false,\n    error: false\n  }\n\n  componentDidMount() {\n    this.props.onReset()\n  }\n\n  handleChange = event => {\n    this.setState({query: event.target.value})\n  }\n\n  handleSubmit = event => {\n    const query = event.target.value.trim()\n\n    if(this.isValidate(query)) {\n      this.searchBooks(query)\n    } else {\n      alert('Please check the keyword.')\n    }\n  }\n\n  handleFormReset = () => {\n    this.setState({query: ''})\n  }\n\n  isValidate = query => {\n    let regExp = /[(a-zA-Z0-9)]/gi \n    if(regExp.test(query)) {\n      return true\n    } \n  }\n\n  searchBooks = query => {\n    this.props.onReset() \n    this.setState({loading: true})\n\n    BooksAPI.search(query).then(result => {\n      if(result && result.error === \"empty query\") {\n        this.props.onReset()\n      } else if(result) {\n        this.sortBooks(result)\n        this.props.onAddBooks(result)\n      } else {\n        this.setState({error: true})\n      }\n\n      this.setState({loading: false})\n    })\n  }\n\n  sortBooks = books => {\n    const booksOnShelves = JSON.parse(localStorage.getItem('books'))\n    for(const book of books) {\n      for(const bookOnShelf of booksOnShelves) { \n        if(book.id === bookOnShelf.id) {\n          book.shelf = bookOnShelf.shelf\n        }\n      } \n    }\n\n    return books\n  }\n\n  render() {\n    const { books, onUpdate, onReset } = this.props;\n\n    return (\n          <div className=\"search-books\">\n            <div className=\"search-books-bar\">\n              <Link to='/'>\n                <button className=\"close-search\" onClick={onReset}>Close</button>\n              </Link>\n              <div className=\"search-books-input-wrapper\">\n                {/*\n                  NOTES: The search from BooksAPI is limited to a particular set of search terms.\n                  You can find these search terms here:\n                  https://github.com/udacity/reactnd-project-myreads-starter/blob/master/SEARCH_TERMS.md\n\n                  However, remember that the BooksAPI.search method DOES search by title or author. So, don't worry if\n                  you don't find a specific author or title. Every search is limited by search terms.\n                */}\n                  <input \n                    type=\"text\" \n                    placeholder=\"Search by title or author\"\n                    onChange={this.handleChange}\n                    onClick={this.handleFormReset}\n                    value={this.state.query}\n                    onKeyDown={(e) => e.key === \"Enter\" && this.handleSubmit(e)}\n                  />\n              </div>\n            </div>\n            { this.state.error \n              ? <p style={{textAlign: 'center', marginTop: '80px'}}>An error occured. Please try it again.</p>\n              : <div className=\"search-books-results\">\n                  <ol className=\"books-grid\">\n                    {books.length > 0 \n                    ? books.map (book => (\n                      <BookCard \n                        book={book}\n                        key={book.id}\n                        onUpdate={onUpdate}\n                      />\n                    ))\n                    : <Loading \n                        loading= {this.state.loading} \n                      />\n                    }\n                  </ol>\n                </div>\n            }\n          </div>\n    )\n  }\n}\n\nexport default Search\n","import React from 'react'\nimport '../styles/App.css'\nimport { Route } from 'react-router-dom'\nimport BookList from './MainPage/BookList'\nimport Search from './SearchPage/Search'\n\nclass BookApp extends React.Component {\n  state = {\n    books : []\n  }\n\n  handleResetBooks = () => {\n    this.setState({books : []})\n  }\n\n  addBooks = array => {\n    this.setState({books : array})\n  }\n\n  updateBook = givenBook => {\n    this.setState(prevState => ({\n      books: prevState.books.filter(book=> book.id !== givenBook.id).concat([givenBook])\n    }))\n\n    localStorage.setItem('books', JSON.stringify(this.state.books))\n  }\n\n  render() {\n    const { books } = this.state;\n    \n    return (\n      <div className=\"app\">\n        <Route exact path='/' render={() => (\n          <BookList \n            books={books} \n            onAddBooks={this.addBooks}\n            onUpdate={this.updateBook}\n          />\n        )} />\n        <Route path='/search' render={() => (\n          <Search \n            books={books}\n            onReset={this.handleResetBooks} \n            onAddBooks={this.addBooks}\n            onUpdate={this.updateBook}\n          />\n        )} />\n      </div>\n    )\n  }\n}\n\nexport default BookApp\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from '../src/components/App'\nimport './styles/index.css'\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n, document.getElementById('root'))\n"],"sourceRoot":""}